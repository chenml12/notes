<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<title>webpack</title>
</head>
<body>
	<!--
		概念:
	    webpack 是一个现代的 JavaScript 应用程序的模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图表(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成少量的 bundle - 通常只有一个，由浏览器加载。
	    
	    它是高度可配置的，但是，在开始前你需要先理解四个核心概念：入口(entry)、输出(output)、loader、插件
		  npm install --global webpack(jquery) //全局安装webpack
		    简写：
		    npm i -g webpack
		    
		   npm i webpack //本项目内（文件夹）安装webpack
		   
		***浏览器不支持es6时
		1、项目初始化:
			    npm init  //创建一个 package.json 文件，用于保存项目版本、依赖关系等
			    
			2、在项目中安装本地webpack
			    npm install webpack --save(全写)
			    	或
			    npm i webpack -S(简写)
			    
			3、因为ES6要转成浏览器可识别的：
			      必须要在webpack中安装2个loader
			        babel-loader
			        babel-core
			   // npm i babel-loader babel-core -S
			        
			4、配置webpack
			      手动在你的项目目录中创建一个
			      webpack.config.js
			      
			5、配置webpack.config.js文件
			6、package文件中添加：
				    scripts:{
				      "nizp":"webpack -w"
				    }
				此时可以监听入口文件的改变，实时刷新页面，非入口文件的改变则不会被监听到，不在需要手动进行刷新。并且目标文件不包括index.html。
			7、cmd 中运行 webpack
					npm run nizp
			
			8.页面自动在html文件中引入js文件
				npm i html-webpack-plugin -S
				const HtmlWebpackPlugin=require('html-webpack-plugin');
				module.exports = {
					plugins: [
				        new HtmlWebpackPlugin({
				        		filename:'../111.html',
				            template: './index.html' // 模版文件
				        })
				    ]
				}
			9.安装css插件自动引css
			npm i style-loader css-loader -S
			在app.js中添加require('./style/style.css');
			  module:{
			    rules:[
			      {
			        test:/\.js$/,
			        use:{
			          loader:'babel-loader'
			        }
			      },
			      {
			        test:/\.css$/,
			        user:['style-loader,'css-loader']
			      }
			    ]
			  },
			  10.把style改成link形式
			  npm i extract-text-webpack-plugin -S
			  
			  const link=require('extract-text-webpack-plugin');
			  
			  module:{
			    rules:[
			      {
			        test:/\.js$/,
			        use:{
			          loader:'babel-loader'
			        }
			      },
			      {
			        test:/\.css$/,
			        //user:['style-loader,'css-loader']
			        use:link.extract({
			        	fallback:"style-loader",
			        	use:"css-loader"
			        })
			      }
			    ]
			  },
			  plugins: [
			        new HtmlWebpackPlugin({
			        		filename:'../111.html',
			            template: './index.html' // 模版文件
			        }),
			        new link('style.css')
			    ]
	-->
</body>
</html>